<%= t 'image_clean.title' %>

<%= form_for @collection_template, method: :put, url: wizard_path do |f| %>
  <% if f.object.errors.any? %>
    <div class="error_messages">
      <% f.object.errors.full_messages.each do |error| %>
        <p><%= error %></p>
      <% end %>
    </div>
  <% end %>
  <% # Add in a hidden field just so that the BuildController stays happy %>
  <%= f.hidden_field :id, value: @collection_template.id %>
  <%= react_component('ToggleSlider', {
    object: f.object_name, attribute: 'image_clean', type: 'denoise'
  }) %>
  <%= react_component('ToggleSlider', {
    object: f.object_name, attribute: 'image_clean', type: 'equalize'
  }) %>
  <%= react_component('ToggleSlider', {
    value: 100, max: 200, object: f.object_name, attribute: 'image_clean', type: 'brightness'
  }) %>
  <%= react_component('ToggleSlider', {
    value: 100, max: 200, object: f.object_name, attribute: 'image_clean', type: 'contrast'
  }) %>
  <%= react_component('ToggleSlider', {
    object: f.object_name, attribute: 'image_clean', type: 'smooth'
  }) %>
  <%= react_component('PosterizeForm', object: f.object_name, attribute: 'image_clean', type: 'posterize') %>
  <%= f.submit 'Next Step', class: 'btn btn-primary' %>
<% end %>

<%= render 'collection_templates/cropped_image' %>
